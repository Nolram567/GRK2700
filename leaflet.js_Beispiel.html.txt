<!DOCTYPE html>
<html>
<head>
  <!-- Lade Leaflet-Bibliothek -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.css" />
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>
</head>
<body>
  <!-- Das DIV-Element, in dem die Karte angezeigt wird -->
  <div id="map" style="width: 900px; height: 500px;"></div>

  <script type="text/javascript">
    // Erstelle eine Leaflet-Karte und zentriere sie auf Deutschland
    var map = L.map('map').setView([51.1657, 10.4515], 6);

    // Begrenze den Bereich auf Deutschland
    var maxBounds = L.latLngBounds(
      L.latLng(47.2701, 5.8662), // Südwesten von Deutschland
      L.latLng(55.0583, 15.0419) // Nordosten von Deutschland
    );
    map.setMaxBounds(maxBounds);
    map.on('drag', function() {
      map.panInsideBounds(maxBounds, { animate: false });
    });

    // Füge eine OpenStreetMap-Kacheln-Layer hinzu
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Erstelle einen Kreis um Schwalmstadt mit einem Radius von 5000 Metern
    var circle = L.circle([50.9234, 9.2147], {
      radius: 5000,
      color: 'red',
      fillColor: '#f03',
      fillOpacity: 0.5
    }).addTo(map);

    // Füge einen Popup zum Kreis hinzu
    circle.bindPopup('Dies ist Schwalmstadt.');

    // Füge das Skript für das Geo-Diagramm hinzu
    var script = document.createElement('script');
    script.src = 'https://www.gstatic.com/charts/loader.js';
    script.onload = function() {
      google.charts.load('current', {'packages':['geochart']});
      google.charts.setOnLoadCallback(drawChart);
    };
    document.head.appendChild(script);

    // Funktion zum Zeichnen des Geo-Diagramms
    function drawChart() {
      var data = google.visualization.arrayToDataTable([
        ['Bundesland', 'Popularity'],
        ['Hessen', 200],
        ['Nordrhein-Westfalen', 300],
        ['Rheinland-Pfalz', 400],
        ['Bayern', 500],
        ['Thüringen', 600],
        ['Sachsen', 700]
      ]);

      var options = {
        region: 'DE',
        resolution: 'provinces',
        colorAxis: {colors: ['green', 'blue']}
      };

      var chart = new google.visualization.GeoChart(document.getElementById('chart_div'));
      chart.draw(data, options);
    }
  </script>
</body>
</html>